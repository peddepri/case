<mxfile host="app.diagrams.net" modified="2025-10-25T17:15:00.000Z" agent="5.0" etag="def456" version="24.7.17">
  <diagram name="Local Development Architecture" id="local-dev">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Docker Host -->
        <mxCell id="docker-host" value="Docker Desktop (Windows)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#f5f5f5;strokeColor=#666666;verticalAlign=top;align=left;spacingLeft=20;spacingTop=20;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1080" height="740" as="geometry" />
        </mxCell>
        
        <!-- LocalStack Container -->
        <mxCell id="localstack-container" value="LocalStack Pro Container" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;verticalAlign=top;align=left;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="300" height="320" as="geometry" />
        </mxCell>
        
        <!-- LocalStack Services -->
        <mxCell id="ls-dynamodb" value="DynamoDB Local" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="100" y="140" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ls-ecr" value="ECR" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="200" y="140" width="60" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ls-iam" value="IAM" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="280" y="140" width="60" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ls-s3" value="S3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="100" y="200" width="60" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ls-secrets" value="Secrets Manager" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="180" y="200" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ls-cloudwatch" value="CloudWatch Logs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="100" y="260" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ls-eks" value="EKS API&#xa;(Mock)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="220" y="260" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ls-gateway" value="Gateway :4566" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="320" width="200" height="40" as="geometry" />
        </mxCell>
        
        <!-- Applications Container Network -->
        <mxCell id="app-network" value="LocalStack Network" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;verticalAlign=top;align=left;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="420" y="100" width="320" height="320" as="geometry" />
        </mxCell>
        
        <!-- Backend Container -->
        <mxCell id="backend-container" value="Backend Container&#xa;:3001" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="440" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Frontend Container -->
        <mxCell id="frontend-container" value="Frontend Container&#xa;:5174" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="580" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Mobile Container -->
        <mxCell id="mobile-container" value="Mobile Container&#xa;:19006" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="440" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Datadog Agent -->
        <mxCell id="datadog-agent" value="Datadog Agent&#xa;:8126, :8125" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="580" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Observability Stack -->
        <mxCell id="observability-network" value="Observability Network" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;verticalAlign=top;align=left;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="780" y="100" width="320" height="320" as="geometry" />
        </mxCell>
        
        <!-- Prometheus -->
        <mxCell id="prometheus" value="Prometheus&#xa;:9090" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="800" y="140" width="100" height="50" as="geometry" />
        </mxCell>
        
        <!-- Grafana -->
        <mxCell id="grafana" value="Grafana&#xa;:3100" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="920" y="140" width="100" height="50" as="geometry" />
        </mxCell>
        
        <!-- Loki -->
        <mxCell id="loki" value="Loki&#xa;:3101" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="800" y="210" width="100" height="50" as="geometry" />
        </mxCell>
        
        <!-- Tempo -->
        <mxCell id="tempo" value="Tempo&#xa;:3102" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="920" y="210" width="100" height="50" as="geometry" />
        </mxCell>
        
        <!-- Promtail -->
        <mxCell id="promtail" value="Promtail&#xa;(Log Collector)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="800" y="280" width="100" height="50" as="geometry" />
        </mxCell>
        
        <!-- Kubernetes (kind) -->
        <mxCell id="kind-cluster" value="Kubernetes (kind)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;align=left;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="80" y="460" width="660" height="280" as="geometry" />
        </mxCell>
        
        <!-- Kind Control Plane -->
        <mxCell id="kind-control" value="Control Plane&#xa;case-local" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="100" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Namespace -->
        <mxCell id="k8s-namespace" value="Namespace: case" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=top;align=left;spacingLeft=10;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="260" y="500" width="460" height="200" as="geometry" />
        </mxCell>
        
        <!-- K8s Pods -->
        <mxCell id="k8s-backend" value="Backend Pod&#xa;case-backend:latest" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="280" y="540" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="k8s-frontend" value="Frontend Pod&#xa;case-frontend:latest" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="400" y="540" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="k8s-mobile" value="Mobile Pod&#xa;case-mobile:latest" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="520" y="540" width="100" height="50" as="geometry" />
        </mxCell>
        
        <!-- K8s Services -->
        <mxCell id="k8s-svc-backend" value="backend-svc&#xa;:3000" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="280" y="610" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="k8s-svc-frontend" value="frontend-svc&#xa;:80" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="400" y="610" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="k8s-svc-mobile" value="mobile-svc&#xa;:19006" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="520" y="610" width="80" height="40" as="geometry" />
        </mxCell>
        
        <!-- Ingress -->
        <mxCell id="k8s-ingress" value="Nginx Ingress&#xa;:8080" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="610" width="100" height="40" as="geometry" />
        </mxCell>
        
        <!-- External Access -->
        <mxCell id="localhost" value="localhost" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="540" y="20" width="80" height="80" as="geometry" />
        </mxCell>
        
        <!-- Port Mappings -->
        <mxCell id="ports-label" value="Port Mappings" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="460" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="port-list" value="• LocalStack: 4566&#xa;• Backend: 3001&#xa;• Frontend: 5174&#xa;• Mobile: 19006&#xa;• Grafana: 3100&#xa;• Prometheus: 9090&#xa;• Loki: 3101&#xa;• Tempo: 3102&#xa;• K8s Ingress: 8080" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="780" y="480" width="150" height="140" as="geometry" />
        </mxCell>
        
        <!-- Data Flow Arrows -->
        <mxCell id="flow1" style="endArrow=classic;html=1;rounded=0;strokeColor=#82b366;" edge="1" parent="1" source="backend-container" target="ls-gateway">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="flow2" style="endArrow=classic;html=1;rounded=0;strokeColor=#d79b00;" edge="1" parent="1" source="backend-container" target="prometheus">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="200" as="sourcePoint" />
            <mxPoint x="650" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="flow3" style="endArrow=classic;html=1;rounded=0;strokeColor=#d6b656;" edge="1" parent="1" source="backend-container" target="datadog-agent">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="550" y="220" as="sourcePoint" />
            <mxPoint x="600" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="flow4" style="endArrow=classic;html=1;rounded=0;strokeColor=#9673a6;" edge="1" parent="1" source="k8s-backend" target="ls-gateway">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="500" as="sourcePoint" />
            <mxPoint x="330" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="flow5" style="endArrow=classic;html=1;rounded=0;strokeColor=#b85450;" edge="1" parent="1" source="localhost" target="k8s-ingress">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="400" as="sourcePoint" />
            <mxPoint x="650" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Labels -->
        <mxCell id="label1" value="AWS API Calls" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;rotation=-30;" vertex="1" parent="1">
          <mxGeometry x="320" y="220" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label2" value="Metrics&#xa;Scraping" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="650" y="140" width="60" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="label3" value="APM Traces" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="520" y="200" width="60" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label4" value="host.docker.internal:4566" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;rotation=60;" vertex="1" parent="1">
          <mxGeometry x="200" y="400" width="120" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label5" value="HTTP :8080" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="580" y="400" width="60" height="20" as="geometry" />
        </mxCell>
        
        <!-- Architecture Notes -->
        <mxCell id="notes-title" value="Architecture Notes" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="960" y="460" width="120" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="notes-content" value="• LocalStack Pro simulates AWS services&#xa;• kind provides real Kubernetes cluster&#xa;• Observability stack monitors both environments&#xa;• Images loaded directly into kind (no registry)&#xa;• Backend connects to LocalStack via Docker network&#xa;• K8s pods use host.docker.internal for LocalStack&#xa;• Grafana dashboards show real-time metrics&#xa;• Blue/Green deployments supported in K8s" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="960" y="480" width="200" height="120" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
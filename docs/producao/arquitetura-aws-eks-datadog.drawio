<mxfile host="app.diagrams.net" modified="2025-10-25T20:30:00.000Z" agent="5.0" etag="architecture-aws-eks-datadog" version="24.7.17">
  <diagram name="AWS EKS Production Architecture" id="aws-eks-production">
    <mxGraphModel dx="2400" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- AWS Cloud Background -->
        <mxCell id="aws-cloud" value="AWS CLOUD (us-east-1)" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=14;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud_alt;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=40;fontColor=#232F3E;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="30" y="30" width="1940" height="1340" as="geometry" />
        </mxCell>
        
        <!-- Region -->
        <mxCell id="region" value="AWS Region: us-east-1" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_region;strokeColor=#00A4A6;fillColor=none;verticalAlign=top;align=left;spacingLeft=40;fontColor=#147EBA;dashed=1;" parent="aws-cloud" vertex="1">
          <mxGeometry x="60" y="60" width="1820" height="1220" as="geometry" />
        </mxCell>
        
        <!-- VPC -->
        <mxCell id="vpc" value="VPC: 10.0.0.0/16 - Multi-AZ Production" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc2;strokeColor=#8C4FFF;fillColor=none;verticalAlign=top;align=left;spacingLeft=40;fontColor=#8C4FFF;dashed=0;" parent="region" vertex="1">
          <mxGeometry x="80" y="80" width="1660" height="1080" as="geometry" />
        </mxCell>
        
        <!-- Availability Zone A -->
        <mxCell id="az-a" value="Availability Zone: us-east-1a" style="fillColor=none;strokeColor=#147EBA;dashed=1;verticalAlign=top;fontStyle=1;fontColor=#147EBA;whiteSpace=wrap;html=1;fontSize=12;" parent="vpc" vertex="1">
          <mxGeometry x="60" y="60" width="750" height="480" as="geometry" />
        </mxCell>
        
        <!-- Public Subnet A -->
        <mxCell id="public-subnet-a" value="Public Subnet A - 10.0.101.0/24" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;strokeColor=#7AA116;fillColor=#F2F6E8;verticalAlign=top;align=left;spacingLeft=40;fontColor=#248814;dashed=0;" parent="az-a" vertex="1">
          <mxGeometry x="40" y="60" width="680" height="160" as="geometry" />
        </mxCell>
        
        <!-- Internet Gateway -->
        <mxCell id="igw" value="Internet Gateway" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;" parent="public-subnet-a" vertex="1">
          <mxGeometry x="40" y="50" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- NAT Gateway -->
        <mxCell id="nat-gw" value="NAT Gateway" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.nat_gateway;" parent="public-subnet-a" vertex="1">
          <mxGeometry x="180" y="50" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- Private Subnet A -->
        <mxCell id="private-subnet-a" value="Private Subnet A&#xa;10.0.1.0/24" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;strokeColor=#D86613;fillColor=#FCF2F2;verticalAlign=top;align=left;spacingLeft=30;fontColor=#D86613;dashed=0;" parent="az-a" vertex="1">
          <mxGeometry x="20" y="200" width="300" height="180" as="geometry" />
        </mxCell>
        
        <!-- EKS Fargate Pods A -->
        <mxCell id="fargate-pods-a" value="EKS Fargate&#xa;Pods" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.fargate;" parent="private-subnet-a" vertex="1">
          <mxGeometry x="110" y="60" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- Availability Zone B -->
        <mxCell id="az-b" value="Availability Zone: us-east-1b" style="fillColor=none;strokeColor=#147EBA;dashed=1;verticalAlign=top;fontStyle=0;fontColor=#147EBA;whiteSpace=wrap;html=1;" parent="vpc" vertex="1">
          <mxGeometry x="720" y="40" width="650" height="400" as="geometry" />
        </mxCell>
        
        <!-- Public Subnet B -->
        <mxCell id="public-subnet-b" value="Public Subnet B&#xa;10.0.102.0/24" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;strokeColor=#7AA116;fillColor=#F2F6E8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" parent="az-b" vertex="1">
          <mxGeometry x="20" y="30" width="300" height="150" as="geometry" />
        </mxCell>
        
        <!-- Application Load Balancer -->
        <mxCell id="alb" value="Application&#xa;Load Balancer" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.application_load_balancer;" parent="public-subnet-b" vertex="1">
          <mxGeometry x="110" y="50" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- Private Subnet B -->
        <mxCell id="private-subnet-b" value="Private Subnet B&#xa;10.0.2.0/24" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;strokeColor=#D86613;fillColor=#FCF2F2;verticalAlign=top;align=left;spacingLeft=30;fontColor=#D86613;dashed=0;" parent="az-b" vertex="1">
          <mxGeometry x="20" y="200" width="300" height="180" as="geometry" />
        </mxCell>
        
        <!-- EKS Fargate Pods B -->
        <mxCell id="fargate-pods-b" value="EKS Fargate&#xa;Pods" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.fargate;" parent="private-subnet-b" vertex="1">
          <mxGeometry x="110" y="60" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- EKS Control Plane -->
        <mxCell id="eks-control-plane" value="Amazon EKS&#xa;Control Plane&#xa;(Multi-AZ)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.eks_cloud;" parent="vpc" vertex="1">
          <mxGeometry x="600" y="250" width="120" height="120" as="geometry" />
        </mxCell>
        
        <!-- Application Services Group -->
        <mxCell id="app-services-group" value="Application Services (Kubernetes Namespace: case)" style="fillColor=none;strokeColor=#5A6C86;dashed=1;verticalAlign=top;fontStyle=1;fontColor=#5A6C86;whiteSpace=wrap;html=1;" parent="vpc" vertex="1">
          <mxGeometry x="40" y="480" width="1330" height="200" as="geometry" />
        </mxCell>
        
        <!-- Backend Service Blue -->
        <mxCell id="backend-blue" value="Backend Service&#xa;(Blue)&#xa;Node.js + Express&#xa;dd-trace APM" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontColor=#000000;" parent="app-services-group" vertex="1">
          <mxGeometry x="50" y="40" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- Backend Service Green -->
        <mxCell id="backend-green" value="Backend Service&#xa;(Green)&#xa;Node.js + Express&#xa;dd-trace APM" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#000000;" parent="app-services-group" vertex="1">
          <mxGeometry x="220" y="40" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- Frontend Service Blue -->
        <mxCell id="frontend-blue" value="Frontend Service&#xa;(Blue)&#xa;React + Vite&#xa;Nginx Proxy" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontColor=#000000;" parent="app-services-group" vertex="1">
          <mxGeometry x="400" y="40" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- Frontend Service Green -->
        <mxCell id="frontend-green" value="Frontend Service&#xa;(Green)&#xa;React + Vite&#xa;Nginx Proxy" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#000000;" parent="app-services-group" vertex="1">
          <mxGeometry x="570" y="40" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- Mobile Service -->
        <mxCell id="mobile-service" value="Mobile Service&#xa;Expo Web&#xa;React Native&#xa;(Optional)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontColor=#000000;" parent="app-services-group" vertex="1">
          <mxGeometry x="750" y="40" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- Kubernetes Services -->
        <mxCell id="k8s-backend-svc" value="Backend&#xa;Service&#xa;(ClusterIP)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;" parent="app-services-group" vertex="1">
          <mxGeometry x="950" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="k8s-frontend-svc" value="Frontend&#xa;Service&#xa;(ClusterIP)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;" parent="app-services-group" vertex="1">
          <mxGeometry x="1070" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="k8s-ingress" value="Nginx Ingress&#xa;Controller&#xa;(SSL/TLS)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontColor=#000000;" parent="app-services-group" vertex="1">
          <mxGeometry x="1190" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- AWS Managed Services -->
        <mxCell id="aws-services-group" value="AWS Managed Services" style="fillColor=none;strokeColor=#FF9900;dashed=1;verticalAlign=top;fontStyle=1;fontColor=#FF9900;whiteSpace=wrap;html=1;" parent="vpc" vertex="1">
          <mxGeometry x="40" y="720" width="1330" height="200" as="geometry" />
        </mxCell>
        
        <!-- DynamoDB -->
        <mxCell id="dynamodb" value="Amazon DynamoDB&#xa;Table: orders&#xa;Pay-per-request&#xa;IRSA Access" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#C925D1;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.dynamodb;" parent="aws-services-group" vertex="1">
          <mxGeometry x="80" y="60" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- ECR -->
        <mxCell id="ecr" value="Amazon ECR&#xa;Container Registry&#xa;backend + frontend&#xa;Image Scanning" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecr;" parent="aws-services-group" vertex="1">
          <mxGeometry x="280" y="60" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- Secrets Manager -->
        <mxCell id="secrets-manager" value="AWS Secrets Manager&#xa;DD_API_KEY&#xa;DB Credentials&#xa;Auto Rotation" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.secrets_manager;" parent="aws-services-group" vertex="1">
          <mxGeometry x="480" y="60" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- CloudWatch -->
        <mxCell id="cloudwatch" value="Amazon CloudWatch&#xa;Logs + Metrics&#xa;30 days retention&#xa;Datadog Forward" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.cloudwatch_2;" parent="aws-services-group" vertex="1">
          <mxGeometry x="680" y="60" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- IAM -->
        <mxCell id="iam" value="AWS IAM + OIDC&#xa;IRSA Roles&#xa;ServiceAccounts&#xa;Least Privilege" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.iam;" parent="aws-services-group" vertex="1">
          <mxGeometry x="880" y="60" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- Route 53 -->
        <mxCell id="route53" value="Amazon Route 53&#xa;DNS Management&#xa;Health Checks&#xa;(Optional)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.route_53;" parent="aws-services-group" vertex="1">
          <mxGeometry x="1080" y="60" width="78" height="78" as="geometry" />
        </mxCell>
        
        <!-- Grafana Observability Stack -->
        <mxCell id="grafana-observability-group" value="Grafana Observability Stack (Alternative/Hybrid)" style="fillColor=none;strokeColor=#FF6D00;dashed=1;verticalAlign=top;fontStyle=1;fontColor=#FF6D00;whiteSpace=wrap;html=1;" parent="vpc" vertex="1">
          <mxGeometry x="40" y="520" width="1330" height="180" as="geometry" />
        </mxCell>
        
        <!-- Prometheus -->
        <mxCell id="prometheus" value="Prometheus&#xa;Metrics Collection&#xa;/metrics scraping&#xa;Alert Rules" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff6d00;strokeColor=#d84315;fontColor=#ffffff;" parent="grafana-observability-group" vertex="1">
          <mxGeometry x="80" y="60" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Grafana -->
        <mxCell id="grafana" value="Grafana&#xa;Dashboards + Alerts&#xa;4 Golden Signals&#xa;Business Metrics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff6d00;strokeColor=#d84315;fontColor=#ffffff;" parent="grafana-observability-group" vertex="1">
          <mxGeometry x="220" y="60" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Loki -->
        <mxCell id="loki" value="Grafana Loki&#xa;Log Aggregation&#xa;LogQL Queries&#xa;7 days retention" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff6d00;strokeColor=#d84315;fontColor=#ffffff;" parent="grafana-observability-group" vertex="1">
          <mxGeometry x="360" y="60" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Tempo -->
        <mxCell id="tempo" value="Grafana Tempo&#xa;Distributed Tracing&#xa;OpenTelemetry&#xa;TraceQL Queries" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff6d00;strokeColor=#d84315;fontColor=#ffffff;" parent="grafana-observability-group" vertex="1">
          <mxGeometry x="500" y="60" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Promtail -->
        <mxCell id="promtail" value="Promtail&#xa;Log Shipper&#xa;Docker Labels&#xa;JSON Parsing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff6d00;strokeColor=#d84315;fontColor=#ffffff;" parent="grafana-observability-group" vertex="1">
          <mxGeometry x="640" y="60" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- AlertManager -->
        <mxCell id="alertmanager" value="AlertManager&#xa;Notifications&#xa;Slack + PagerDuty&#xa;SLA Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff6d00;strokeColor=#d84315;fontColor=#ffffff;" parent="grafana-observability-group" vertex="1">
          <mxGeometry x="780" y="60" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- External Services -->
        
        <!-- GitHub Actions -->
        <mxCell id="github-actions" value="GitHub Actions&#xa;CI/CD Pipeline&#xa;OIDC Authentication&#xa;Blue/Green Deploy" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="20" y="1200" width="200" height="100" as="geometry" />
        </mxCell>
        
        <!-- Datadog SaaS -->
        <mxCell id="datadog-saas" value="Datadog SaaS&#xa;APM + Metrics + Logs&#xa;Dashboards + Alerts&#xa;Agentless Traces" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#6a00ff;strokeColor=#3700cc;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="1434" y="1200" width="200" height="100" as="geometry" />
        </mxCell>
        
        <!-- Grafana Stack -->
        <mxCell id="grafana-stack" value="Grafana Stack&#xa;(Alternative/Hybrid)&#xa;Prometheus + Grafana&#xa;Loki + Tempo" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff6d00;strokeColor=#d84315;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="1434" y="1320" width="200" height="100" as="geometry" />
        </mxCell>
        
        <!-- End Users -->
        <mxCell id="end-users" value="End Users&#xa;Web Browsers&#xa;Mobile Apps&#xa;API Consumers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;strokeColor=#006eaf;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="727" y="1200" width="200" height="100" as="geometry" />
        </mxCell>
        
        <!-- Data Flow Arrows -->
        
        <!-- Users to ALB -->
        <mxCell id="traffic-flow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d79b00;strokeWidth=3;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="end-users" target="alb" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="827" y="150" />
              <mxPoint x="959" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="traffic-label" value="HTTPS Traffic" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#d79b00;fontStyle=1;" parent="traffic-flow" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- GitHub to EKS -->
        <mxCell id="cicd-flow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#e51400;strokeWidth=3;fillColor=#f8cecc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="github-actions" target="eks-control-plane" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="120" y="330" />
              <mxPoint x="680" y="330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cicd-label" value="Build &amp; Deploy" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#e51400;fontStyle=1;" parent="cicd-flow" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Backend to DynamoDB -->
        <mxCell id="db-flow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0066cc;strokeWidth=2;fillColor=#dae8fc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="backend-green" target="dynamodb" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="db-label" value="IRSA API Calls" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#0066cc;fontStyle=1;" parent="db-flow" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Apps to Datadog -->
        <mxCell id="apm-flow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9933ff;strokeWidth=2;fillColor=#e1d5e7;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="backend-green" target="datadog-saas" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="355" y="1100" />
              <mxPoint x="1534" y="1100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="apm-label" value="APM Agentless" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#9933ff;fontStyle=1;" parent="apm-flow" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Backend to Prometheus -->
        <mxCell id="metrics-flow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff6d00;strokeWidth=2;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="backend-green" target="prometheus" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="metrics-label" value="/metrics endpoint" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#ff6d00;fontStyle=1;" parent="metrics-flow" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Promtail to Loki -->
        <mxCell id="logs-grafana-flow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff6d00;strokeWidth=2;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="promtail" target="loki" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="logs-grafana-label" value="JSON Logs" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#ff6d00;fontStyle=1;" parent="logs-grafana-flow" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Backend to Tempo (OpenTelemetry) -->
        <mxCell id="traces-flow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff6d00;strokeWidth=2;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="backend-green" target="tempo" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="355" y="480" />
              <mxPoint x="620" y="480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="traces-label" value="OpenTelemetry" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#ff6d00;fontStyle=1;" parent="traces-flow" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Prometheus to AlertManager -->
        <mxCell id="alerts-flow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff6d00;strokeWidth=1;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" parent="1" source="prometheus" target="alertmanager" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="alerts-label" value="Alert Rules" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#ff6d00;fontStyle=1;" parent="alerts-flow" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Grafana Datasources -->
        <mxCell id="grafana-prometheus" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff6d00;strokeWidth=1;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" parent="1" source="grafana" target="prometheus" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="grafana-loki" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff6d00;strokeWidth=1;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" parent="1" source="grafana" target="loki" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="grafana-tempo" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff6d00;strokeWidth=1;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" parent="1" source="grafana" target="tempo" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- CloudWatch to Datadog -->
        <mxCell id="logs-flow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff8000;strokeWidth=2;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="cloudwatch" target="datadog-saas" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="799" y="1150" />
              <mxPoint x="1534" y="1150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="logs-label" value="Log Forwarding" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#ff8000;fontStyle=1;" parent="logs-flow" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- EKS Control Plane connections -->
        <mxCell id="control-pods-a" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;strokeWidth=1;fillColor=#f5f5f5;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" parent="1" source="eks-control-plane" target="fargate-pods-a" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="control-pods-b" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;strokeWidth=1;fillColor=#f5f5f5;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;" parent="1" source="eks-control-plane" target="fargate-pods-b" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Service connections -->
        <mxCell id="svc-backend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#82b366;strokeWidth=2;fillColor=#d5e8d4;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="k8s-backend-svc" target="backend-green" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="svc-frontend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#82b366;strokeWidth=2;fillColor=#d5e8d4;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="k8s-frontend-svc" target="frontend-green" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Ingress to Services -->
        <mxCell id="ingress-backend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;strokeWidth=2;fillColor=#f8cecc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="k8s-ingress" target="k8s-backend-svc" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="ingress-frontend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;strokeWidth=2;fillColor=#f8cecc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="k8s-ingress" target="k8s-frontend-svc" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- ALB to Ingress -->
        <mxCell id="alb-ingress" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d79b00;strokeWidth=3;fillColor=#ffe6cc;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="alb" target="k8s-ingress" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Legend -->
        <mxCell id="legend" value="Legenda:&#xa;&#xa;🟠 Serviços AWS Gerenciados&#xa;🔵 Kubernetes/EKS&#xa;🟢 Aplicações (Green - Ativo)&#xa;🟣 Aplicações (Blue - Standby)&#xa;🟡 Serviços Opcionais&#xa;⚫ Serviços Externos&#xa;🔶 Grafana Stack (Alternative)&#xa;&#xa;Fluxos de Dados:&#xa;🟠 Tráfego de Usuários&#xa;🔴 CI/CD Pipeline&#xa;🔵 API/Database&#xa;🟣 Datadog APM&#xa;� Grafana Observability" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="250" y="1200" width="250" height="200" as="geometry" />
        </mxCell>
        
        <!-- Metrics Panel -->
        <mxCell id="metrics" value="Métricas de Performance:&#xa;&#xa;🎯 Availability: 99.9%&#xa;⚡ P95 Latency: &lt; 200ms&#xa;❌ Error Rate: &lt; 1%&#xa;🔄 RTO Target: 15min&#xa;💰 Monthly Cost: $179-318&#xa;&#xa;Características Técnicas:&#xa;✅ Multi-AZ High Availability&#xa;🔐 IRSA Security (Zero Trust)&#xa;💸 Pay-per-pod (Fargate)&#xa;🔄 Blue/Green Zero Downtime&#xa;📊 4 Golden Signals Monitoring" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontColor=#000000;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="970" y="1200" width="250" height="200" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>